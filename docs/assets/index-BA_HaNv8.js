var Dn=Object.defineProperty;var Fn=(n,t,e)=>t in n?Dn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var _t=(n,t,e)=>Fn(n,typeof t!="symbol"?t+"":t,e);import{E as jn}from"./core-D5d8HsbF.js";import{_ as ot}from"./plugin-vueexport-helper-DlAUqK2U.js";import{o as $,c as X,a as I,_ as _e,r as nt,a0 as Be,n as G,f as Ln,a1 as $n,P as qn,a2 as Yn,i as M,w as R,g as z,v as tt,M as Ue,y as We,F as Ge,d as Qe,z as Je,T as Ze,V as Vn,p as Ie,a3 as De,e as Xn,S as Bn,a4 as Un,t as Wn,a5 as Gn,l as Qn,a6 as Jn}from"./index-DLZnTZAL.js";const ne={},Ke=[];function w(n,t){if(Array.isArray(n)){for(const e of n)w(e,t);return}if(typeof n=="object"){for(const e in n)w(e,n[e]);return}tn(Object.getOwnPropertyNames(t)),ne[n]=Object.assign(ne[n]||{},t)}function D(n){return ne[n]||{}}function Zn(){return[...new Set(Ke)]}function tn(n){Ke.push(...n)}function be(n,t){let e;const s=n.length,i=[];for(e=0;e<s;e++)i.push(t(n[e]));return i}function Kn(n,t){let e;const s=n.length,i=[];for(e=0;e<s;e++)t(n[e])&&i.push(n[e]);return i}function Qt(n){return n%360*Math.PI/180}function ts(n){return n.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function en(n){return n.charAt(0).toUpperCase()+n.slice(1)}function St(n,t,e,s){return(t==null||e==null)&&(s=s||n.bbox(),t==null?t=s.width/s.height*e:e==null&&(e=s.height/s.width*t)),{width:t,height:e}}function se(n,t){const e=n.origin;let s=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",i=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";e!=null&&([s,i]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const r=typeof s=="string",o=typeof i=="string";if(r||o){const{height:a,width:h,x:l,y:u}=t.bbox();r&&(s=s.includes("left")?l:s.includes("right")?l+h:l+h/2),o&&(i=i.includes("top")?u:i.includes("bottom")?u+a:u+a/2)}return[s,i]}const es=new Set(["desc","metadata","title"]),ie=n=>es.has(n.nodeName),nn=(n,t,e={})=>{const s={...t};for(const i in s)s[i].valueOf()===e[i]&&delete s[i];Object.keys(s).length?n.node.setAttribute("data-svgjs",JSON.stringify(s)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},xe="http://www.w3.org/2000/svg",ns="http://www.w3.org/1999/xhtml",Jt="http://www.w3.org/2000/xmlns/",Ct="http://www.w3.org/1999/xlink",x={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Ot(){return x.window}class ve{}const ct={},Te="___SYMBOL___ROOT___";function Pt(n,t=xe){return x.document.createElementNS(t,n)}function N(n,t=!1){if(n instanceof ve)return n;if(typeof n=="object")return Zt(n);if(n==null)return new ct[Te];if(typeof n=="string"&&n.charAt(0)!=="<")return Zt(x.document.querySelector(n));const e=t?x.document.createElement("div"):Pt("svg");return e.innerHTML=n,n=Zt(e.firstChild),e.removeChild(e.firstChild),n}function P(n,t){return t&&(t instanceof x.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Pt(n)}function Y(n){if(!n)return null;if(n.instance instanceof ve)return n.instance;if(n.nodeName==="#document-fragment")return new ct.Fragment(n);let t=en(n.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":ct[t]||(t="Dom"),new ct[t](n)}let Zt=Y;function v(n,t=n.name,e=!1){return ct[t]=n,e&&(ct[Te]=n),tn(Object.getOwnPropertyNames(n.prototype)),n}function ss(n){return ct[n]}let is=1e3;function sn(n){return"Svgjs"+en(n)+is++}function rn(n){for(let t=n.children.length-1;t>=0;t--)rn(n.children[t]);return n.id&&(n.id=sn(n.nodeName)),n}function y(n,t){let e,s;for(n=Array.isArray(n)?n:[n],s=n.length-1;s>=0;s--)for(e in t)n[s].prototype[e]=t[e]}function k(n){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?n.apply(this,t.slice(0,-1)).attr(e):n.apply(this,t)}}function rs(){return this.parent().children()}function os(){return this.parent().index(this)}function as(){return this.siblings()[this.position()+1]}function hs(){return this.siblings()[this.position()-1]}function ls(){const n=this.position();return this.parent().add(this.remove(),n+1),this}function us(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this}function cs(){return this.parent().add(this.remove()),this}function fs(){return this.parent().add(this.remove(),0),this}function ds(n){n=N(n),n.remove();const t=this.position();return this.parent().add(n,t),this}function ps(n){n=N(n),n.remove();const t=this.position();return this.parent().add(n,t+1),this}function ms(n){return n=N(n),n.before(this),this}function gs(n){return n=N(n),n.after(this),this}w("Dom",{siblings:rs,position:os,next:as,prev:hs,forward:ls,backward:us,front:cs,back:fs,before:ds,after:ps,insertBefore:ms,insertAfter:gs});const on=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,ys=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ws=/rgb\((\d+),(\d+),(\d+)\)/,_s=/(#[a-z_][a-z0-9\-_]*)/i,bs=/\)\s*,?\s*/,xs=/\s/g,Fe=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,je=/^rgb\(/,Le=/^(\s+)?$/,$e=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vs=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,J=/[\s,]+/,Se=/[MLHVCSQTAZ]/i;function Ts(){const n=this.attr("class");return n==null?[]:n.trim().split(J)}function Ss(n){return this.classes().indexOf(n)!==-1}function Es(n){if(!this.hasClass(n)){const t=this.classes();t.push(n),this.attr("class",t.join(" "))}return this}function Ms(n){return this.hasClass(n)&&this.attr("class",this.classes().filter(function(t){return t!==n}).join(" ")),this}function zs(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}w("Dom",{classes:Ts,hasClass:Ss,addClass:Es,removeClass:Ms,toggleClass:zs});function ks(n,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(s){return!!s.length}).forEach(function(s){const i=s.split(/\s*:\s*/);e[i[0]]=i[1]}),e;if(arguments.length<2){if(Array.isArray(n)){for(const s of n){const i=s;e[s]=this.node.style.getPropertyValue(i)}return e}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const s in n)this.node.style.setProperty(s,n[s]==null||Le.test(n[s])?"":n[s])}return arguments.length===2&&this.node.style.setProperty(n,t==null||Le.test(t)?"":t),this}function Ps(){return this.css("display","")}function Hs(){return this.css("display","none")}function As(){return this.css("display")!=="none"}w("Dom",{css:ks,show:Ps,hide:Hs,visible:As});function Cs(n,t,e){if(n==null)return this.data(be(Kn(this.node.attributes,s=>s.nodeName.indexOf("data-")===0),s=>s.nodeName.slice(5)));if(n instanceof Array){const s={};for(const i of n)s[i]=this.data(i);return s}else if(typeof n=="object")for(t in n)this.data(t,n[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch{return this.attr("data-"+n)}else this.attr("data-"+n,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}w("Dom",{data:Cs});function Os(n,t){if(typeof arguments[0]=="object")for(const e in n)this.remember(e,n[e]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=t}return this}function Rs(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this}function Ns(){return this._memory=this._memory||{}}w("Dom",{remember:Os,forget:Rs,memory:Ns});function Is(n){return n.length===4?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n}function Ds(n){const t=Math.round(n),s=Math.max(0,Math.min(255,t)).toString(16);return s.length===1?"0"+s:s}function bt(n,t){for(let e=t.length;e--;)if(n[t[e]]==null)return!1;return!0}function Fs(n,t){const e=bt(n,"rgb")?{_a:n.r,_b:n.g,_c:n.b,_d:0,space:"rgb"}:bt(n,"xyz")?{_a:n.x,_b:n.y,_c:n.z,_d:0,space:"xyz"}:bt(n,"hsl")?{_a:n.h,_b:n.s,_c:n.l,_d:0,space:"hsl"}:bt(n,"lab")?{_a:n.l,_b:n.a,_c:n.b,_d:0,space:"lab"}:bt(n,"lch")?{_a:n.l,_b:n.c,_c:n.h,_d:0,space:"lch"}:bt(n,"cmyk")?{_a:n.c,_b:n.m,_c:n.y,_d:n.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function js(n){return n==="lab"||n==="xyz"||n==="lch"}function Kt(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}class E{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof E||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:s,round:i,sin:r,PI:o}=Math;if(t==="vibrant"){const a=24*s()+57,h=38*s()+45,l=360*s();return new E(a,h,l,"lch")}else if(t==="sine"){e=e??s();const a=i(80*r(2*o*e/.5+.01)+150),h=i(50*r(2*o*e/.5+4.6)+200),l=i(100*r(2*o*e/.5+2.3)+150);return new E(a,h,l)}else if(t==="pastel"){const a=8*s()+86,h=17*s()+9,l=360*s();return new E(a,h,l,"lch")}else if(t==="dark"){const a=10+10*s(),h=50*s()+86,l=360*s();return new E(a,h,l,"lch")}else if(t==="rgb"){const a=255*s(),h=255*s(),l=255*s();return new E(a,h,l)}else if(t==="lab"){const a=100*s(),h=256*s()-128,l=256*s()-128;return new E(a,h,l,"lab")}else if(t==="grey"){const a=255*s();return new E(a,a,a)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(Fe.test(t)||je.test(t))}cmyk(){const{_a:t,_b:e,_c:s}=this.rgb(),[i,r,o]=[t,e,s].map(d=>d/255),a=Math.min(1-i,1-r,1-o);if(a===1)return new E(0,0,0,1,"cmyk");const h=(1-i-a)/(1-a),l=(1-r-a)/(1-a),u=(1-o-a)/(1-a);return new E(h,l,u,a,"cmyk")}hsl(){const{_a:t,_b:e,_c:s}=this.rgb(),[i,r,o]=[t,e,s].map(p=>p/255),a=Math.max(i,r,o),h=Math.min(i,r,o),l=(a+h)/2,u=a===h,c=a-h,d=u?0:l>.5?c/(2-a-h):c/(a+h),_=u?0:a===i?((r-o)/c+(r<o?6:0))/6:a===r?((o-i)/c+2)/6:a===o?((i-r)/c+4)/6:0;return new E(360*_,100*d,100*l,"hsl")}init(t=0,e=0,s=0,i=0,r="rgb"){if(t=t||0,this.space)for(const c in this.space)delete this[this.space[c]];if(typeof t=="number")r=typeof i=="string"?i:r,i=typeof i=="string"?0:i,Object.assign(this,{_a:t,_b:e,_c:s,_d:i,space:r});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const c=Fs(t,e);Object.assign(this,c)}else if(typeof t=="string")if(je.test(t)){const c=t.replace(xs,""),[d,_,m]=ws.exec(c).slice(1,4).map(p=>parseInt(p));Object.assign(this,{_a:d,_b:_,_c:m,_d:0,space:"rgb"})}else if(Fe.test(t)){const c=p=>parseInt(p,16),[,d,_,m]=ys.exec(Is(t)).map(c);Object.assign(this,{_a:d,_b:_,_c:m,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:o,_b:a,_c:h,_d:l}=this,u=this.space==="rgb"?{r:o,g:a,b:h}:this.space==="xyz"?{x:o,y:a,z:h}:this.space==="hsl"?{h:o,s:a,l:h}:this.space==="lab"?{l:o,a,b:h}:this.space==="lch"?{l:o,c:a,h}:this.space==="cmyk"?{c:o,m:a,y:h,k:l}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:s}=this.xyz(),i=116*e-16,r=500*(t-e),o=200*(e-s);return new E(i,r,o,"lab")}lch(){const{l:t,a:e,b:s}=this.lab(),i=Math.sqrt(e**2+s**2);let r=180*Math.atan2(s,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new E(t,i,r,"lch")}rgb(){if(this.space==="rgb")return this;if(js(this.space)){let{x:t,y:e,z:s}=this;if(this.space==="lab"||this.space==="lch"){let{l:_,a:m,b:p}=this;if(this.space==="lch"){const{c:ht,h:Dt}=this,Ft=Math.PI/180;m=ht*Math.cos(Ft*Dt),p=ht*Math.sin(Ft*Dt)}const T=(_+16)/116,b=m/500+T,O=T-p/200,B=16/116,Z=.008856,K=7.787;t=.95047*(b**3>Z?b**3:(b-B)/K),e=1*(T**3>Z?T**3:(T-B)/K),s=1.08883*(O**3>Z?O**3:(O-B)/K)}const i=t*3.2406+e*-1.5372+s*-.4986,r=t*-.9689+e*1.8758+s*.0415,o=t*.0557+e*-.204+s*1.057,a=Math.pow,h=.0031308,l=i>h?1.055*a(i,1/2.4)-.055:12.92*i,u=r>h?1.055*a(r,1/2.4)-.055:12.92*r,c=o>h?1.055*a(o,1/2.4)-.055:12.92*o;return new E(255*l,255*u,255*c)}else if(this.space==="hsl"){let{h:t,s:e,l:s}=this;if(t/=360,e/=100,s/=100,e===0)return s*=255,new E(s,s,s);const i=s<.5?s*(1+e):s+e-s*e,r=2*s-i,o=255*Kt(r,i,t+1/3),a=255*Kt(r,i,t),h=255*Kt(r,i,t-1/3);return new E(o,a,h)}else if(this.space==="cmyk"){const{c:t,m:e,y:s,k:i}=this,r=255*(1-Math.min(1,t*(1-i)+i)),o=255*(1-Math.min(1,e*(1-i)+i)),a=255*(1-Math.min(1,s*(1-i)+i));return new E(r,o,a)}else return this}toArray(){const{_a:t,_b:e,_c:s,_d:i,space:r}=this;return[t,e,s,i,r]}toHex(){const[t,e,s]=this._clamped().map(Ds);return`#${t}${e}${s}`}toRgb(){const[t,e,s]=this._clamped();return`rgb(${t},${e},${s})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:s}=this.rgb(),[i,r,o]=[t,e,s].map(b=>b/255),a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,h=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(a*.4124+h*.3576+l*.1805)/.95047,c=(a*.2126+h*.7152+l*.0722)/1,d=(a*.0193+h*.1192+l*.9505)/1.08883,_=u>.008856?Math.pow(u,1/3):7.787*u+16/116,m=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new E(_,m,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:s}=this.rgb(),{max:i,min:r,round:o}=Math,a=h=>i(0,r(o(h),255));return[t,e,s].map(a)}}class H{constructor(...t){this.init(...t)}clone(){return new H(this)}init(t,e){const s={x:0,y:0},i=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=i.x==null?s.x:i.x,this.y=i.y==null?s.y:i.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){f.isMatrixLike(t)||(t=new f(t));const{x:e,y:s}=this;return this.x=t.a*e+t.c*s+t.e,this.y=t.b*e+t.d*s+t.f,this}}function Ls(n,t){return new H(n,t).transformO(this.screenCTM().inverseO())}function xt(n,t,e){return Math.abs(t-n)<1e-6}class f{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,s=t.flip&&(e||t.flip==="x")?-1:1,i=t.flip&&(e||t.flip==="y")?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*s:isFinite(t.scale)?t.scale*s:isFinite(t.scaleX)?t.scaleX*s:s,h=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,l=t.shear||0,u=t.rotate||t.theta||0,c=new H(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),d=c.x,_=c.y,m=new H(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=m.x,T=m.y,b=new H(t.translate||t.tx||t.translateX,t.ty||t.translateY),O=b.x,B=b.y,Z=new H(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),K=Z.x,ht=Z.y;return{scaleX:a,scaleY:h,skewX:r,skewY:o,shear:l,theta:u,rx:K,ry:ht,tx:O,ty:B,ox:d,oy:_,px:p,py:T}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,s){const i=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,h=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return s.a=i,s.b=r,s.c=o,s.d=a,s.e=h,s.f=l,s}around(t,e,s){return this.clone().aroundO(t,e,s)}aroundO(t,e,s){const i=t||0,r=e||0;return this.translateO(-i,-r).lmultiplyO(s).translateO(i,r)}clone(){return new f(this)}decompose(t=0,e=0){const s=this.a,i=this.b,r=this.c,o=this.d,a=this.e,h=this.f,l=s*o-i*r,u=l>0?1:-1,c=u*Math.sqrt(s*s+i*i),d=Math.atan2(u*i,u*s),_=180/Math.PI*d,m=Math.cos(d),p=Math.sin(d),T=(s*r+i*o)/l,b=r*c/(T*s-i)||o*c/(T*i+s),O=a-t+t*m*c+e*(T*m*c-p*b),B=h-e+t*p*c+e*(T*p*c+m*b);return{scaleX:c,scaleY:b,shear:T,rotate:_,translateX:O,translateY:B,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new f(t);return xt(this.a,e.a)&&xt(this.b,e.b)&&xt(this.c,e.c)&&xt(this.d,e.d)&&xt(this.e,e.e)&&xt(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=f.fromArray([1,0,0,1,0,0]);return t=t instanceof F?t.matrixify():typeof t=="string"?f.fromArray(t.split(J).map(parseFloat)):Array.isArray(t)?f.fromArray(t):typeof t=="object"&&f.isMatrixLike(t)?t:typeof t=="object"?new f().transform(t):arguments.length===6?f.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,s=this.c,i=this.d,r=this.e,o=this.f,a=t*i-e*s;if(!a)throw new Error("Cannot invert "+this);const h=i/a,l=-e/a,u=-s/a,c=t/a,d=-(h*r+u*o),_=-(l*r+c*o);return this.a=h,this.b=l,this.c=u,this.d=c,this.e=d,this.f=_,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,s=t instanceof f?t:new f(t);return f.matrixMultiply(s,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,s=t instanceof f?t:new f(t);return f.matrixMultiply(e,s,this)}rotate(t,e,s){return this.clone().rotateO(t,e,s)}rotateO(t,e=0,s=0){t=Qt(t);const i=Math.cos(t),r=Math.sin(t),{a:o,b:a,c:h,d:l,e:u,f:c}=this;return this.a=o*i-a*r,this.b=a*i+o*r,this.c=h*i-l*r,this.d=l*i+h*r,this.e=u*i-c*r+s*r-e*i+e,this.f=c*i+u*r-e*r-s*i+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,s=0,i=0){arguments.length===3&&(i=s,s=e,e=t);const{a:r,b:o,c:a,d:h,e:l,f:u}=this;return this.a=r*t,this.b=o*e,this.c=a*t,this.d=h*e,this.e=l*t-s*t+s,this.f=u*e-i*e+i,this}shear(t,e,s){return this.clone().shearO(t,e,s)}shearO(t,e=0,s=0){const{a:i,b:r,c:o,d:a,e:h,f:l}=this;return this.a=i+r*t,this.c=o+a*t,this.e=h+l*t-s*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,s=0,i=0){arguments.length===3&&(i=s,s=e,e=t),t=Qt(t),e=Qt(e);const r=Math.tan(t),o=Math.tan(e),{a,b:h,c:l,d:u,e:c,f:d}=this;return this.a=a+h*r,this.b=h+a*o,this.c=l+u*r,this.d=u+l*o,this.e=c+d*r-i*r,this.f=d+c*o-s*o,this}skewX(t,e,s){return this.skew(t,0,e,s)}skewY(t,e,s){return this.skew(0,t,e,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(f.isMatrixLike(t))return new f(t).multiplyO(this);const e=f.formatTransforms(t),s=this,{x:i,y:r}=new H(e.ox,e.oy).transform(s),o=new f().translateO(e.rx,e.ry).lmultiplyO(s).translateO(-i,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(i,r);if(isFinite(e.px)||isFinite(e.py)){const a=new H(i,r).transform(o),h=isFinite(e.px)?e.px-a.x:0,l=isFinite(e.py)?e.py-a.y:0;o.translateO(h,l)}return o.translateO(e.tx,e.ty),o}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function $s(){return new f(this.node.getCTM())}function qs(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),t=n.node.getScreenCTM();return n.remove(),new f(t)}return new f(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new f}}v(f,"Matrix");function et(){if(!et.nodes){const n=N().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const t=n.path().node;et.nodes={svg:n,path:t}}if(!et.nodes.svg.node.parentNode){const n=x.document.body||x.document.documentElement;et.nodes.svg.addTo(n)}return et.nodes}function an(n){return!n.width&&!n.height&&!n.x&&!n.y}function Ys(n){return n===x.document||(x.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===x.document}).call(x.document.documentElement,n)}class A{constructor(...t){this.init(...t)}addOffset(){return this.x+=x.window.pageXOffset,this.y+=x.window.pageYOffset,new A(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split(J).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return an(this)}merge(t){const e=Math.min(this.x,t.x),s=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-s;return new A(e,s,i,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof f||(t=new f(t));let e=1/0,s=-1/0,i=1/0,r=-1/0;return[new H(this.x,this.y),new H(this.x2,this.y),new H(this.x,this.y2),new H(this.x2,this.y2)].forEach(function(a){a=a.transform(t),e=Math.min(e,a.x),s=Math.max(s,a.x),i=Math.min(i,a.y),r=Math.max(r,a.y)}),new A(e,i,s-e,r-i)}}function hn(n,t,e){let s;try{if(s=t(n.node),an(s)&&!Ys(n.node))throw new Error("Element not in the dom")}catch{s=e(n)}return s}function Vs(){const e=hn(this,i=>i.getBBox(),i=>{try{const r=i.clone().addTo(et().svg).show(),o=r.node.getBBox();return r.remove(),o}catch(r){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${r.toString()}`)}});return new A(e)}function Xs(n){const s=hn(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),i=new A(s);return n?i.transform(n.screenCTM().inverseO()):i.addOffset()}function Bs(n,t){const e=this.bbox();return n>e.x&&t>e.y&&n<e.x+e.width&&t<e.y+e.height}w({viewbox:{viewbox(n,t,e,s){return n==null?new A(this.attr("viewBox")):this.attr("viewBox",new A(n,t,e,s))},zoom(n,t){let{width:e,height:s}=this.attr(["width","height"]);if((!e&&!s||typeof e=="string"||typeof s=="string")&&(e=this.node.clientWidth,s=this.node.clientHeight),!e||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),r=e/i.width,o=s/i.height,a=Math.min(r,o);if(n==null)return a;let h=a/n;h===1/0&&(h=Number.MAX_SAFE_INTEGER/100),t=t||new H(e/2/r+i.x,s/2/o+i.y);const l=new A(i).transform(new f({scale:h,origin:t}));return this.viewbox(l)}}});v(A,"Box");class ft extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}y([ft],{each(n,...t){return typeof n=="function"?this.map((e,s,i)=>n.call(e,e,s,i)):this.map(e=>e[n](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const Us=["toArray","constructor","each"];ft.extend=function(n){n=n.reduce((t,e)=>(Us.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...s){return this.each(e,...s)}),t),{}),y([ft],n)};function Et(n,t){return new ft(be((t||x.document).querySelectorAll(n),function(e){return Y(e)}))}function Ws(n){return Et(n,this.node)}function Gs(n){return Y(this.node.querySelector(n))}let Qs=0;const ln={};function un(n){let t=n.getEventHolder();return t===x.window&&(t=ln),t.events||(t.events={}),t.events}function Ee(n){return n.getEventTarget()}function Js(n){let t=n.getEventHolder();t===x.window&&(t=ln),t.events&&(t.events={})}function Q(n,t,e,s,i){const r=e.bind(s||n),o=N(n),a=un(o),h=Ee(o);t=Array.isArray(t)?t:t.split(J),e._svgjsListenerId||(e._svgjsListenerId=++Qs),t.forEach(function(l){const u=l.split(".")[0],c=l.split(".")[1]||"*";a[u]=a[u]||{},a[u][c]=a[u][c]||{},a[u][c][e._svgjsListenerId]=r,h.addEventListener(u,r,i||!1)})}function V(n,t,e,s){const i=N(n),r=un(i),o=Ee(i);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split(J),t.forEach(function(a){const h=a&&a.split(".")[0],l=a&&a.split(".")[1];let u,c;if(e)r[h]&&r[h][l||"*"]&&(o.removeEventListener(h,r[h][l||"*"][e],s||!1),delete r[h][l||"*"][e]);else if(h&&l){if(r[h]&&r[h][l]){for(c in r[h][l])V(o,[h,l].join("."),c);delete r[h][l]}}else if(l)for(a in r)for(u in r[a])l===u&&V(o,[a,l].join("."));else if(h){if(r[h]){for(u in r[h])V(o,[h,u].join("."));delete r[h]}}else{for(a in r)V(o,a);Js(i)}}))}function Zs(n,t,e,s){const i=Ee(n);return t instanceof x.window.Event||(t=new x.window.CustomEvent(t,{detail:e,cancelable:!0,...s})),i.dispatchEvent(t),t}class Rt extends ve{addEventListener(){}dispatch(t,e,s){return Zs(this,t,e,s)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const s=e[t.type];for(const i in s)for(const r in s[i])s[i][r](t);return!t.defaultPrevented}fire(t,e,s){return this.dispatch(t,e,s),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,s){return V(this,t,e,s),this}on(t,e,s,i){return Q(this,t,e,s,i),this}removeEventListener(){}}v(Rt,"EventTarget");function qe(){}const kt={duration:400,ease:">",delay:0},Ks={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Tt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(J).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class g{constructor(...t){this.init(...t)}convert(t){return new g(this.value,t)}divide(t){return t=new g(t),new g(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(on),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof g&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new g(t),new g(this-t,this.unit||t.unit)}plus(t){return t=new g(t),new g(this+t,this.unit||t.unit)}times(t){return t=new g(t),new g(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const ti=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),cn=[];function ei(n){cn.push(n)}function ni(n,t,e){if(n==null){n={},t=this.node.attributes;for(const s of t)n[s.nodeName]=$e.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return n}else{if(n instanceof Array)return n.reduce((s,i)=>(s[i]=this.attr(i),s),{});if(typeof n=="object"&&n.constructor===Object)for(t in n)this.attr(t,n[t]);else if(t===null)this.node.removeAttribute(n);else{if(t==null)return t=this.node.getAttribute(n),t==null?Ks[n]:$e.test(t)?parseFloat(t):t;t=cn.reduce((s,i)=>i(n,s,this),t),typeof t=="number"?t=new g(t):ti.has(n)&&E.isColor(t)?t=new E(t):t.constructor===Array&&(t=new Tt(t)),n==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,n,t.toString()):this.node.setAttribute(n,t.toString()),this.rebuild&&(n==="font-size"||n==="x")&&this.rebuild()}}return this}class st extends Rt{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=N(t),t.removeNamespace&&this.node instanceof x.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return N(t).put(this,e)}children(){return new ft(be(this.node.children,function(t){return Y(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let s=this.node.cloneNode(t);return e&&(s=rn(s)),new this.constructor(s)}each(t,e){const s=this.children();let i,r;for(i=0,r=s.length;i<r;i++)t.apply(s[i],[i,s]),e&&s[i].each(t,e);return this}element(t,e){return this.put(new st(Pt(t),e))}first(){return Y(this.node.firstChild)}get(t){return Y(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,ns)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=sn(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Y(this.node.lastChild)}matches(t){const e=this.node,s=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return s&&s.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=Y(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=Y(e.node.parentNode));return e}put(t,e){return t=N(t),this.add(t,e),t}putIn(t,e){return N(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=N(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const s=10**t,i=this.attr(e);for(const r in i)typeof i[r]=="number"&&(i[r]=Math.round(i[r]*s)/s);return this.attr(i),this}svg(t,e){return this.xml(t,e,xe)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const s=e.index(this);return e.put(t,s).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,s){if(typeof t=="boolean"&&(s=e,e=t,t=null),t==null||typeof t=="function"){e=e??!0,this.writeDataToDom();let a=this;if(t!=null){if(a=Y(a.node.cloneNode(!0)),e){const h=t(a);if(a=h||a,h===!1)return""}a.each(function(){const h=t(this),l=h||this;h===!1?this.remove():h&&this!==l&&this.replace(l)},!0)}return e?a.node.outerHTML:a.node.innerHTML}e=e??!1;const i=Pt("wrapper",s),r=x.document.createDocumentFragment();i.innerHTML=t;for(let a=i.children.length;a--;)r.appendChild(i.firstElementChild);const o=this.parent();return e?this.replace(r)&&o:this.add(r)}}y(st,{attr:ni,find:Ws,findOne:Gs});v(st,"Dom");class F extends st{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new g(t).plus(this.x()))}dy(t=0){return this.y(new g(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=N(t));const s=new ft;let i=this;for(;(i=i.parent())&&i.node!==x.document&&i.nodeName!=="#document-fragment"&&(s.push(i),!(!e&&i.node===t.node||e&&i.matches(t)));)if(i.node===this.root().node)return null;return s}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(_s);return e?N(e[1]):null}root(){const t=this.parent(ss(Te));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const s=St(this,t,e);return this.width(new g(s.width)).height(new g(s.height))}width(t){return this.attr("width",t)}writeDataToDom(){return nn(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}y(F,{bbox:Vs,rbox:Xs,inside:Bs,point:Ls,ctm:$s,screenCTM:qs});v(F,"Element");const zt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,t){return t==="color"?n:n+"-"+t}};["fill","stroke"].forEach(function(n){const t={};let e;t[n]=function(s){if(typeof s>"u")return this.attr(n);if(typeof s=="string"||s instanceof E||E.isRgb(s)||s instanceof F)this.attr(n,s);else for(e=zt[n].length-1;e>=0;e--)s[zt[n][e]]!=null&&this.attr(zt.prefix(n,zt[n][e]),s[zt[n][e]]);return this},w(["Element","Runner"],t)});w(["Element","Runner"],{matrix:function(n,t,e,s,i,r){return n==null?new f(this):this.attr("transform",new f(n,t,e,s,i,r))},rotate:function(n,t,e){return this.transform({rotate:n,ox:t,oy:e},!0)},skew:function(n,t,e,s){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:t,oy:e},!0):this.transform({skew:[n,t],ox:e,oy:s},!0)},shear:function(n,t,e){return this.transform({shear:n,ox:t,oy:e},!0)},scale:function(n,t,e,s){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:t,oy:e},!0):this.transform({scale:[n,t],ox:e,oy:s},!0)},translate:function(n,t){return this.transform({translate:[n,t]},!0)},relative:function(n,t){return this.transform({relative:[n,t]},!0)},flip:function(n="both",t="center"){return"xybothtrue".indexOf(n)===-1&&(t=n,n="both"),this.transform({flip:n,origin:t},!0)},opacity:function(n){return this.attr("opacity",n)}});w("radius",{radius:function(n,t=n){return(this._element||this).type==="radialGradient"?this.attr("r",new g(n)):this.rx(n).ry(t)}});w("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new H(this.node.getPointAtLength(n))}});w(["Element","Runner"],{font:function(n,t){if(typeof n=="object"){for(t in n)this.font(t,n[t]);return this}return n==="leading"?this.leading(t):n==="anchor"?this.attr("text-anchor",t):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,t):this.attr(n,t)}});const si=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(n,t){const e=function(s){return s===null?this.off(t):this.on(t,s),this};return n[t]=e,n},{});w("Element",si);function ii(){return this.attr("transform",null)}function ri(){return(this.attr("transform")||"").split(bs).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(J).map(function(s){return parseFloat(s)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(f.fromArray(e[1])):t[e[0]].apply(t,e[1])},new f)}function oi(n,t){if(this===n)return this;if(ie(this.node))return this.addTo(n,t);const e=this.screenCTM(),s=n.screenCTM().inverse();return this.addTo(n,t).untransform().transform(s.multiply(e)),this}function ai(n){return this.toParent(this.root(),n)}function hi(n,t){if(n==null||typeof n=="string"){const i=new f(this).decompose();return n==null?i:i[n]}f.isMatrixLike(n)||(n={...n,origin:se(n,this)});const e=t===!0?this:t||!1,s=new f(e).transform(n);return this.attr("transform",s)}w("Element",{untransform:ii,matrixify:ri,toParent:oi,toRoot:ai,transform:hi});class j extends F{flatten(){return this.each(function(){if(this instanceof j)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(s,i){return i[i.length-s-1].toParent(t,e)}),this.remove()}}v(j,"Container");class Me extends j{constructor(t,e=t){super(P("defs",t),e)}flatten(){return this}ungroup(){return this}}v(Me,"Defs");class q extends F{}v(q,"Shape");function ze(n){return this.attr("rx",n)}function ke(n){return this.attr("ry",n)}function fn(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function dn(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function pn(n){return this.attr("cx",n)}function mn(n){return this.attr("cy",n)}function gn(n){return n==null?this.rx()*2:this.rx(new g(n).divide(2))}function yn(n){return n==null?this.ry()*2:this.ry(new g(n).divide(2))}const li=Object.freeze(Object.defineProperty({__proto__:null,cx:pn,cy:mn,height:yn,rx:ze,ry:ke,width:gn,x:fn,y:dn},Symbol.toStringTag,{value:"Module"}));class Bt extends q{constructor(t,e=t){super(P("ellipse",t),e)}size(t,e){const s=St(this,t,e);return this.rx(new g(s.width).divide(2)).ry(new g(s.height).divide(2))}}y(Bt,li);w("Container",{ellipse:k(function(n=0,t=n){return this.put(new Bt).size(n,t).move(0,0)})});v(Bt,"Ellipse");class wn extends st{constructor(t=x.document.createDocumentFragment()){super(t)}xml(t,e,s){if(typeof t=="boolean"&&(s=e,e=t,t=null),t==null||typeof t=="function"){const i=new st(Pt("wrapper",s));return i.add(this.node.cloneNode(!0)),i.xml(!1,s)}return super.xml(t,!1,s)}}v(wn,"Fragment");function _n(n,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new g(n),fy:new g(t)}):this.attr({x1:new g(n),y1:new g(t)})}function bn(n,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new g(n),cy:new g(t)}):this.attr({x2:new g(n),y2:new g(t)})}const ui=Object.freeze(Object.defineProperty({__proto__:null,from:_n,to:bn},Symbol.toStringTag,{value:"Module"}));class Nt extends j{constructor(t,e){super(P(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,s){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,s)}bbox(){return new A}targets(){return Et("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}y(Nt,ui);w({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:k(function(n,t){return this.put(new Nt(n)).update(t)})}});v(Nt,"Gradient");class Ht extends j{constructor(t,e=t){super(P("pattern",t),e)}attr(t,e,s){return t==="transform"&&(t="patternTransform"),super.attr(t,e,s)}bbox(){return new A}targets(){return Et("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}w({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:k(function(n,t,e){return this.put(new Ht).update(e).attr({x:0,y:0,width:n,height:t,patternUnits:"userSpaceOnUse"})})}});v(Ht,"Pattern");class Ut extends q{constructor(t,e=t){super(P("image",t),e)}load(t,e){if(!t)return this;const s=new x.window.Image;return Q(s,"load",function(i){const r=this.parent(Ht);this.width()===0&&this.height()===0&&this.size(s.width,s.height),r instanceof Ht&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)},this),Q(s,"load error",function(){V(s)}),this.attr("href",s.src=t,Ct)}}ei(function(n,t,e){return(n==="fill"||n==="stroke")&&vs.test(t)&&(t=e.root().defs().image(t)),t instanceof Ut&&(t=e.root().defs().pattern(0,0,s=>{s.add(t)})),t});w({Container:{image:k(function(n,t){return this.put(new Ut).size(0,0).load(n,t)})}});v(Ut,"Image");class it extends Tt{bbox(){let t=-1/0,e=-1/0,s=1/0,i=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),s=Math.min(r[0],s),i=Math.min(r[1],i)}),new A(s,i,t-s,e-i)}move(t,e){const s=this.bbox();if(t-=s.x,e-=s.y,!isNaN(t)&&!isNaN(e))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+t,this[i][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(J).map(parseFloat),t.length%2!==0&&t.pop();for(let s=0,i=t.length;s<i;s=s+2)e.push([t[s],t[s+1]]);return e}size(t,e){let s;const i=this.bbox();for(s=this.length-1;s>=0;s--)i.width&&(this[s][0]=(this[s][0]-i.x)*t/i.width+i.x),i.height&&(this[s][1]=(this[s][1]-i.y)*e/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,s=this.length;e<s;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){f.isMatrixLike(t)||(t=new f(t));for(let e=this.length;e--;){const[s,i]=this[e];this[e][0]=t.a*s+t.c*i+t.e,this[e][1]=t.b*s+t.d*i+t.f}return this}}const ci=it;function fi(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)}function di(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}function pi(n){const t=this.bbox();return n==null?t.width:this.size(n,t.height)}function mi(n){const t=this.bbox();return n==null?t.height:this.size(t.width,n)}const Pe=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:ci,height:mi,width:pi,x:fi,y:di},Symbol.toStringTag,{value:"Module"}));class dt extends q{constructor(t,e=t){super(P("line",t),e)}array(){return new it([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,s,i){return t==null?this.array():(typeof e<"u"?t={x1:t,y1:e,x2:s,y2:i}:t=new it(t).toLine(),this.attr(t))}size(t,e){const s=St(this,t,e);return this.attr(this.array().size(s.width,s.height).toLine())}}y(dt,Pe);w({Container:{line:k(function(...n){return dt.prototype.plot.apply(this.put(new dt),n[0]!=null?n:[0,0,0,0])})}});v(dt,"Line");class Lt extends j{constructor(t,e=t){super(P("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}w({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:k(function(n,t,e){return this.put(new Lt).size(n,t).ref(n/2,t/2).viewbox(0,0,n,t).attr("orient","auto").update(e)})},marker:{marker(n,t,e,s){let i=["marker"];return n!=="all"&&i.push(n),i=i.join("-"),n=arguments[1]instanceof Lt?arguments[1]:this.defs().marker(t,e,s),this.attr(i,n)}}});v(Lt,"Marker");function vt(n,t){return function(e){return e==null?this[n]:(this[n]=e,t&&t.call(this),this)}}const gi={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return-Math.cos(n*Math.PI/2)+1},bezier:function(n,t,e,s){return function(i){return i<0?n>0?t/n*i:e>0?s/e*i:0:i>1?e<1?(1-s)/(1-e)*i+(s-e)/(1-e):n<1?(1-t)/(1-n)*i+(t-n)/(1-n):1:3*i*(1-i)**2*t+3*i**2*(1-i)*s+i**3}},steps:function(n,t="end"){t=t.split("-").reverse()[0];let e=n;return t==="none"?--e:t==="both"&&++e,(s,i=!1)=>{let r=Math.floor(s*n);const o=s*r%1===0;return(t==="start"||t==="both")&&++r,i&&o&&--r,s>=0&&r<0&&(r=0),s<=1&&r>e&&(r=e),r/e}}};class He{done(){return!1}}class re extends He{constructor(t=kt.ease){super(),this.ease=gi[t]||t}step(t,e,s){return typeof t!="number"?s<1?t:e:t+(e-t)*this.ease(s)}}class $t extends He{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,s,i){return this.stepper(t,e,s,i)}}function Ye(){const n=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,s=Math.PI,i=Math.log(t/100+e),r=-i/Math.sqrt(s*s+i*i),o=3.9/(r*n);this.d=2*r*o,this.k=o*o}class yi extends $t{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,s,i){if(typeof t=="string")return t;if(i.done=s===1/0,s===1/0)return e;if(s===0)return t;s>100&&(s=16),s/=1e3;const r=i.velocity||0,o=-this.d*r-this.k*(t-e),a=t+r*s+o*s*s/2;return i.velocity=r+o*s,i.done=Math.abs(e-a)+Math.abs(r)<.002,i.done?e:a}}y(yi,{duration:vt("_duration",Ye),overshoot:vt("_overshoot",Ye)});class wi extends $t{constructor(t=.1,e=.01,s=0,i=1e3){super(),this.p(t).i(e).d(s).windup(i)}step(t,e,s,i){if(typeof t=="string")return t;if(i.done=s===1/0,s===1/0)return e;if(s===0)return t;const r=e-t;let o=(i.integral||0)+r*s;const a=(r-(i.error||0))/s,h=this._windup;return h!==!1&&(o=Math.max(-h,Math.min(o,h))),i.error=r,i.integral=o,i.done=Math.abs(r)<.001,i.done?e:t+(this.P*r+this.I*o+this.D*a)}}y(wi,{windup:vt("_windup"),p:vt("P"),i:vt("I"),d:vt("D")});const _i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},oe={M:function(n,t,e){return t.x=e.x=n[0],t.y=e.y=n[1],["M",t.x,t.y]},L:function(n,t){return t.x=n[0],t.y=n[1],["L",n[0],n[1]]},H:function(n,t){return t.x=n[0],["H",n[0]]},V:function(n,t){return t.y=n[0],["V",n[0]]},C:function(n,t){return t.x=n[4],t.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,t){return t.x=n[2],t.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,t){return t.x=n[2],t.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,t){return t.x=n[0],t.y=n[1],["T",n[0],n[1]]},Z:function(n,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(n,t){return t.x=n[5],t.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},te="mlhvqtcsaz".split("");for(let n=0,t=te.length;n<t;++n)oe[te[n]]=function(e){return function(s,i,r){if(e==="H")s[0]=s[0]+i.x;else if(e==="V")s[0]=s[0]+i.y;else if(e==="A")s[5]=s[5]+i.x,s[6]=s[6]+i.y;else for(let o=0,a=s.length;o<a;++o)s[o]=s[o]+(o%2?i.y:i.x);return oe[e](s,i,r)}}(te[n].toUpperCase());function bi(n){const t=n.segment[0];return oe[t](n.segment.slice(1),n.p,n.p0)}function ae(n){return n.segment.length&&n.segment.length-1===_i[n.segment[0].toUpperCase()]}function xi(n,t){n.inNumber&&lt(n,!1);const e=Se.test(t);if(e)n.segment=[t];else{const s=n.lastCommand,i=s.toLowerCase(),r=s===i;n.segment=[i==="m"?r?"l":"L":s]}return n.inSegment=!0,n.lastCommand=n.segment[0],e}function lt(n,t){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=t,n.number="",n.pointSeen=!1,n.hasExponent=!1,ae(n)&&he(n)}function he(n){n.inSegment=!1,n.absolute&&(n.segment=bi(n)),n.segments.push(n.segment)}function vi(n){if(!n.segment.length)return!1;const t=n.segment[0].toUpperCase()==="A",e=n.segment.length;return t&&(e===4||e===5)}function Ti(n){return n.lastToken.toUpperCase()==="E"}const Si=new Set([" ",",","	",`
`,"\r","\f"]);function Ei(n,t=!0){let e=0,s="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new H,p:new H};for(;i.lastToken=s,s=n.charAt(e++);)if(!(!i.inSegment&&xi(i,s))){if(s==="."){if(i.pointSeen||i.hasExponent){lt(i,!1),--e;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=s;continue}if(!isNaN(parseInt(s))){if(i.number==="0"||vi(i)){i.inNumber=!0,i.number=s,lt(i,!0);continue}i.inNumber=!0,i.number+=s;continue}if(Si.has(s)){i.inNumber&&lt(i,!1);continue}if(s==="-"||s==="+"){if(i.inNumber&&!Ti(i)){lt(i,!1),--e;continue}i.number+=s,i.inNumber=!0;continue}if(s.toUpperCase()==="E"){i.number+=s,i.hasExponent=!0;continue}if(Se.test(s)){if(i.inNumber)lt(i,!1);else if(ae(i))he(i);else throw new Error("parser Error");--e}}return i.inNumber&&lt(i,!1),i.inSegment&&ae(i)&&he(i),i.segments}function Mi(n){let t="";for(let e=0,s=n.length;e<s;e++)t+=n[e][0],n[e][1]!=null&&(t+=n[e][1],n[e][2]!=null&&(t+=" ",t+=n[e][2],n[e][3]!=null&&(t+=" ",t+=n[e][3],t+=" ",t+=n[e][4],n[e][5]!=null&&(t+=" ",t+=n[e][5],t+=" ",t+=n[e][6],n[e][7]!=null&&(t+=" ",t+=n[e][7])))));return t+" "}class pt extends Tt{bbox(){return et().path.setAttribute("d",this.toString()),new A(et.nodes.path.getBBox())}move(t,e){const s=this.bbox();if(t-=s.x,e-=s.y,!isNaN(t)&&!isNaN(e))for(let i,r=this.length-1;r>=0;r--)i=this[r][0],i==="M"||i==="L"||i==="T"?(this[r][1]+=t,this[r][2]+=e):i==="H"?this[r][1]+=t:i==="V"?this[r][1]+=e:i==="C"||i==="S"||i==="Q"?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,i==="C"&&(this[r][5]+=t,this[r][6]+=e)):i==="A"&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Ei(t)}size(t,e){const s=this.bbox();let i,r;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,i=this.length-1;i>=0;i--)r=this[i][0],r==="M"||r==="L"||r==="T"?(this[i][1]=(this[i][1]-s.x)*t/s.width+s.x,this[i][2]=(this[i][2]-s.y)*e/s.height+s.y):r==="H"?this[i][1]=(this[i][1]-s.x)*t/s.width+s.x:r==="V"?this[i][1]=(this[i][1]-s.y)*e/s.height+s.y:r==="C"||r==="S"||r==="Q"?(this[i][1]=(this[i][1]-s.x)*t/s.width+s.x,this[i][2]=(this[i][2]-s.y)*e/s.height+s.y,this[i][3]=(this[i][3]-s.x)*t/s.width+s.x,this[i][4]=(this[i][4]-s.y)*e/s.height+s.y,r==="C"&&(this[i][5]=(this[i][5]-s.x)*t/s.width+s.x,this[i][6]=(this[i][6]-s.y)*e/s.height+s.y)):r==="A"&&(this[i][1]=this[i][1]*t/s.width,this[i][2]=this[i][2]*e/s.height,this[i][6]=(this[i][6]-s.x)*t/s.width+s.x,this[i][7]=(this[i][7]-s.y)*e/s.height+s.y);return this}toString(){return Mi(this)}}const xn=n=>{const t=typeof n;return t==="number"?g:t==="string"?E.isColor(n)?E:J.test(n)?Se.test(n)?pt:Tt:on.test(n)?g:le:Ae.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?Tt:t==="object"?At:le};class ut{constructor(t){this._stepper=t||new re("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,s){return e&&s},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(xn(t));let e=new this._type(t);return this._type===E&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===At&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(s){return s.done=!0,s}),e}}class le{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class It{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,It.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}It.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const zi=(n,t)=>n[0]<t[0]?-1:n[0]>t[0]?1:0;class At{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let s=0,i=e.length;s<i;++s){if(e[s+1]===t[s+1]){if(e[s+1]===E&&t[s+7]!==e[s+7]){const a=t[s+7],h=new E(this.values.splice(s+3,5))[a]().toArray();this.values.splice(s+3,0,...h)}s+=e[s+2]+2;continue}if(!t[s+1])return this;const r=new t[s+1]().toArray(),o=e[s+2]+3;e.splice(s,o,t[s],t[s+1],t[s+2],...r),s+=e[s+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const s in t){const i=xn(t[s]),r=new i(t[s]).toArray();e.push([s,i,r.length,...r])}return e.sort(zi),this.values=e.reduce((s,i)=>s.concat(i),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const s=e.shift(),i=e.shift(),r=e.shift(),o=e.splice(0,r);t[s]=new i(o)}return t}}const Ae=[le,It,At];function ki(n=[]){Ae.push(...[].concat(n))}function Pi(){y(Ae,{to(n){return new ut().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,t,e,s,i){const r=function(o,a){return s.step(o,t[a],e,i[a],i)};return this.fromArray(n.map(r))}})}class Mt extends q{constructor(t,e=t){super(P("path",t),e)}array(){return this._array||(this._array=new pt(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new pt(t))}size(t,e){const s=St(this,t,e);return this.attr("d",this.array().size(s.width,s.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}Mt.prototype.MorphArray=pt;w({Container:{path:k(function(n){return this.put(new Mt).plot(n||new pt)})}});v(Mt,"Path");function Hi(){return this._array||(this._array=new it(this.attr("points")))}function Ai(){return delete this._array,this}function Ci(n,t){return this.attr("points",this.array().move(n,t))}function Oi(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new it(n))}function Ri(n,t){const e=St(this,n,t);return this.attr("points",this.array().size(e.width,e.height))}const vn=Object.freeze(Object.defineProperty({__proto__:null,array:Hi,clear:Ai,move:Ci,plot:Oi,size:Ri},Symbol.toStringTag,{value:"Module"}));class yt extends q{constructor(t,e=t){super(P("polygon",t),e)}}w({Container:{polygon:k(function(n){return this.put(new yt).plot(n||new it)})}});y(yt,Pe);y(yt,vn);v(yt,"Polygon");class wt extends q{constructor(t,e=t){super(P("polyline",t),e)}}w({Container:{polyline:k(function(n){return this.put(new wt).plot(n||new it)})}});y(wt,Pe);y(wt,vn);v(wt,"Polyline");class Wt extends q{constructor(t,e=t){super(P("rect",t),e)}}y(Wt,{rx:ze,ry:ke});w({Container:{rect:k(function(n,t){return this.put(new Wt).size(n,t)})}});v(Wt,"Rect");class ee{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const S={nextDraw:null,frames:new ee,timeouts:new ee,immediates:new ee,timer:()=>x.window.performance||x.window.Date,transforms:[],frame(n){const t=S.frames.push({run:n});return S.nextDraw===null&&(S.nextDraw=x.window.requestAnimationFrame(S._draw)),t},timeout(n,t){t=t||0;const e=S.timer().now()+t,s=S.timeouts.push({run:n,time:e});return S.nextDraw===null&&(S.nextDraw=x.window.requestAnimationFrame(S._draw)),s},immediate(n){const t=S.immediates.push(n);return S.nextDraw===null&&(S.nextDraw=x.window.requestAnimationFrame(S._draw)),t},cancelFrame(n){n!=null&&S.frames.remove(n)},clearTimeout(n){n!=null&&S.timeouts.remove(n)},cancelImmediate(n){n!=null&&S.immediates.remove(n)},_draw(n){let t=null;const e=S.timeouts.last();for(;(t=S.timeouts.shift())&&(n>=t.time?t.run():S.timeouts.push(t),t!==e););let s=null;const i=S.frames.last();for(;s!==i&&(s=S.frames.shift());)s.run(n);let r=null;for(;r=S.immediates.shift();)r();S.nextDraw=S.timeouts.first()||S.frames.first()?x.window.requestAnimationFrame(S._draw):null}},Ni=function(n){const t=n.start,e=n.runner.duration(),s=t+e;return{start:t,duration:e,end:s,runner:n.runner}},Ii=function(){const n=x.window;return(n.performance||n.Date).now()};class Tn extends Rt{constructor(t=Ii){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const s=Math.abs(e);return this.speed(t?-s:s)}schedule(t,e,s){if(t==null)return this._runners.map(Ni);let i=0;const r=this.getEndTime();if(e=e||0,s==null||s==="last"||s==="after")i=r;else if(s==="absolute"||s==="start")i=e,e=0;else if(s==="now")i=this._time;else if(s==="relative"){const h=this.getRunnerInfoById(t.id);h&&(i=h.start+e,e=0)}else if(s==="with-last"){const h=this.getLastRunnerInfo();i=h?h.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:o===null?this._persist:o,start:i+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort((h,l)=>h.start-l.start),this._runnerIds=this._runners.map(h=>h.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return S.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=S.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let s=e-this._lastSourceTime;t&&(s=0);const i=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],h=a.runner;this._time-a.start<=0&&h.reset()}let r=!1;for(let o=0,a=this._runners.length;o<a;o++){const h=this._runners[o],l=h.runner;let u=i;const c=this._time-h.start;if(c<=0){r=!0;continue}else c<u&&(u=c);if(!l.active())continue;l.step(u).done?h.persist!==!0&&l.duration()-l.time()+this._time+h.persist<this._time&&(l.unschedule(),--o,--a):r=!0}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}w({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new Tn,this._timeline):(this._timeline=n,this)}}});class L extends Rt{constructor(t){super(),this.id=L.id++,t=t??kt.duration,t=typeof t=="function"?new $t(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof $t,this._stepper=this._isDeclarative?t:new re,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new f,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,s){let i=1,r=!1,o=0;return t=t??kt.duration,e=e??kt.delay,s=s||"last",typeof t=="object"&&!(t instanceof He)&&(e=t.delay??e,s=t.when??s,r=t.swing||r,i=t.times??i,o=t.wait??o,t=t.duration??kt.duration),{duration:t,delay:e,swing:r,times:i,wait:o,when:s}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,s){const i=L.sanitise(t,e,s),r=new L(i.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new f,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new re(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,s){return typeof t=="object"&&(e=t.swing,s=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const o=Math.floor(this._time/e),h=(this._time-o*e)/this._duration;return Math.min(o+h,this._times)}const s=Math.floor(t),i=t%1,r=e*s+this._duration*i;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,s=this._duration,i=this._wait,r=this._times,o=this._swing,a=this._reverse;let h;if(t==null){const d=function(m){const p=o*Math.floor(m%(2*(i+s))/(i+s)),T=p&&!a||!p&&a,b=Math.pow(-1,T)*(m%(i+s))/s+T;return Math.max(Math.min(b,1),0)},_=r*(i+s)-i;return h=e<=0?Math.round(d(1e-5)):e<_?d(e):Math.round(d(_-1e-5)),h}const l=Math.floor(this.loops()),u=o&&l%2===0;return h=l+(u&&!a||a&&u?t:1-t),this.loops(h)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,s,i){return this._queue.push({initialiser:t||qe,runner:e||qe,retarget:s,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,s){if(t instanceof Tn||(s=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,s),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),s=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const i=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<i&&this._time>=i;this._lastTime=this._time,r&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=i,this._reseted=!1;let h=!1;return(s||a)&&(this._initialise(s),this.transforms=new f,h=this._run(a?t:e),this.fire("step",this)),this.done=this.done||h&&a,o&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,s=this._queue.length;e<s;++e){const i=this._queue[e],r=this._isDeclarative||!i.initialised&&t;t=!i.finished,r&&t&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(t){let e=!0;for(let s=0,i=this._queue.length;s<i;++s){const r=this._queue[s],o=r.runner.call(this,t);r.finished=r.finished||o===!0,e=e&&r.finished}return e}_tryRetarget(t,e,s){if(this._history[t]){if(!this._history[t].caller.initialised){const r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,s):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}L.id=0;class qt{constructor(t=new f,e=-1,s=!0){this.transforms=t,this.id=e,this.done=s}clearTransformsFromQueue(){}}y([L,qt],{mergeWith(n){return new qt(n.transforms.lmultiply(this.transforms),n.id)}});const Sn=(n,t)=>n.lmultiplyO(t),En=n=>n.transforms;function Di(){const t=this._transformationRunners.runners.map(En).reduce(Sn,new f);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Fi{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new qt).forEach(s=>s.clearTransformsFromQueue()),this}edit(t,e){const s=this.ids.indexOf(t+1);return this.ids.splice(s,1,t+1),this.runners.splice(s,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const s=this.runners[e];if(t&&s.done&&t.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(s.id);const r=s.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=s}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}w({Element:{animate(n,t,e){const s=L.sanitise(n,t,e),i=this.timeline();return new L(s.duration).loop(s).element(this).timeline(i.play()).schedule(s.delay,s.when)},delay(n,t){return this.animate(0,n,t)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter(t=>t.id<=n.id).map(En).reduce(Sn,new f)},_addRunner(n){this._transformationRunners.add(n),S.cancelImmediate(this._frameId),this._frameId=S.immediate(Di.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Fi().add(new qt(new f(this))))}}});const ji=(n,t)=>n.filter(e=>!t.includes(e));y(L,{attr(n,t){return this.styleAttr("attr",n,t)},css(n,t){return this.styleAttr("css",n,t)},styleAttr(n,t,e){if(typeof t=="string")return this.styleAttr(n,{[t]:e});let s=t;if(this._tryRetarget(n,s))return this;let i=new ut(this._stepper).to(s),r=Object.keys(s);return this.queue(function(){i=i.from(this.element()[n](r))},function(o){return this.element()[n](i.at(o).valueOf()),i.done()},function(o){const a=Object.keys(o),h=ji(a,r);if(h.length){const u=this.element()[n](h),c=new At(i.from()).valueOf();Object.assign(c,u),i.from(c)}const l=new At(i.to()).valueOf();Object.assign(l,o),i.to(l),r=a,s=o}),this._rememberMorpher(n,i),this},zoom(n,t){if(this._tryRetarget("zoom",n,t))return this;let e=new ut(this._stepper).to(new g(n));return this.queue(function(){e=e.from(this.element().zoom())},function(s){return this.element().zoom(e.at(s),t),e.done()},function(s,i){t=i,e.to(s)}),this._rememberMorpher("zoom",e),this},transform(n,t,e){if(t=n.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",n))return this;const s=f.isMatrixLike(n);e=n.affine!=null?n.affine:e??!s;const i=new ut(this._stepper).type(e?It:f);let r,o,a,h,l;function u(){o=o||this.element(),r=r||se(n,o),l=new f(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}function c(_){t||this.clearTransform();const{x:m,y:p}=new H(r).transform(o._currentTransform(this));let T=new f({...n,origin:[m,p]}),b=this._isDeclarative&&a?a:l;if(e){T=T.decompose(m,p),b=b.decompose(m,p);const B=T.rotate,Z=b.rotate,K=[B-360,B,B+360],ht=K.map(In=>Math.abs(In-Z)),Dt=Math.min(...ht),Ft=ht.indexOf(Dt);T.rotate=K[Ft]}t&&(s||(T.rotate=n.rotate||0),this._isDeclarative&&h&&(b.rotate=h)),i.from(b),i.to(T);const O=i.at(_);return h=O.rotate,a=new f(O),this.addTransform(a),o._addRunner(this),i.done()}function d(_){(_.origin||"center").toString()!==(n.origin||"center").toString()&&(r=se(_,o)),n={..._,origin:r}}return this.queue(u,c,d,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,t){return this.dx(n).dy(t)},_queueNumberDelta(n,t){if(t=new g(t),this._tryRetarget(n,t))return this;const e=new ut(this._stepper).to(t);let s=null;return this.queue(function(){s=this.element()[n](),e.from(s),e.to(s+t)},function(i){return this.element()[n](e.at(i)),e.done()},function(i){e.to(s+new g(i))}),this._rememberMorpher(n,e),this},_queueObject(n,t){if(this._tryRetarget(n,t))return this;const e=new ut(this._stepper).to(t);return this.queue(function(){e.from(this.element()[n]())},function(s){return this.element()[n](e.at(s)),e.done()}),this._rememberMorpher(n,e),this},_queueNumber(n,t){return this._queueObject(n,new g(t))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,t){return this.x(n).y(t)},amove(n,t){return this.ax(n).ay(t)},center(n,t){return this.cx(n).cy(t)},size(n,t){let e;return(!n||!t)&&(e=this._element.bbox()),n||(n=e.width/e.height*t),t||(t=e.height/e.width*n),this.width(n).height(t)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,t,e,s){if(arguments.length===4)return this.plot([n,t,e,s]);if(this._tryRetarget("plot",n))return this;const i=new ut(this._stepper).type(this._element.MorphArray).to(n);return this.queue(function(){i.from(this._element.array())},function(r){return this._element.plot(i.at(r)),i.done()}),this._rememberMorpher("plot",i),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,t,e,s){return this._queueObject("viewbox",new A(n,t,e,s))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}});y(L,{rx:ze,ry:ke,from:_n,to:bn});v(L,"Runner");class Ce extends j{constructor(t,e=t){super(P("svg",t),e),this.namespace()}defs(){return this.isRoot()?Y(this.node.querySelector("defs"))||this.put(new Me):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof x.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:xe,version:"1.1"}).attr("xmlns:xlink",Ct,Jt):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Jt).attr("xmlns:svgjs",null,Jt)}root(){return this.isRoot()?this:super.root()}}w({Container:{nested:k(function(){return this.put(new Ce)})}});v(Ce,"Svg",!0);let Oe=class extends j{constructor(t,e=t){super(P("symbol",t),e)}};w({Container:{symbol:k(function(){return this.put(new Oe)})}});v(Oe,"Symbol");function Li(n){return this._build===!1&&this.clear(),this.node.appendChild(x.document.createTextNode(n)),this}function $i(){return this.node.getComputedTextLength()}function qi(n,t=this.bbox()){return n==null?t.x:this.attr("x",this.attr("x")+n-t.x)}function Yi(n,t=this.bbox()){return n==null?t.y:this.attr("y",this.attr("y")+n-t.y)}function Vi(n,t,e=this.bbox()){return this.x(n,e).y(t,e)}function Xi(n,t=this.bbox()){return n==null?t.cx:this.attr("x",this.attr("x")+n-t.cx)}function Bi(n,t=this.bbox()){return n==null?t.cy:this.attr("y",this.attr("y")+n-t.cy)}function Ui(n,t,e=this.bbox()){return this.cx(n,e).cy(t,e)}function Wi(n){return this.attr("x",n)}function Gi(n){return this.attr("y",n)}function Qi(n,t){return this.ax(n).ay(t)}function Ji(n){return this._build=!!n,this}const Mn=Object.freeze(Object.defineProperty({__proto__:null,amove:Qi,ax:Wi,ay:Gi,build:Ji,center:Ui,cx:Xi,cy:Bi,length:$i,move:Vi,plain:Li,x:qi,y:Yi},Symbol.toStringTag,{value:"Module"}));class U extends q{constructor(t,e=t){super(P("text",t),e),this.dom.leading=this.dom.leading??new g(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new g(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let s=0;const i=this.dom.leading;this.each(function(r){if(ie(this.node))return;const o=x.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=i*new g(o);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?s+=a:(this.attr("dy",r?a+s:0),s=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new g(t.leading||1.3),this}writeDataToDom(){return nn(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let s=0;t="";for(let i=0,r=e.length;i<r;++i){if(e[i].nodeName==="textPath"||ie(e[i])){i===0&&(s=i+1);continue}i!==s&&e[i].nodeType!==3&&Y(e[i]).dom.newLined===!0&&(t+=`
`),t+=e[i].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,s=t.length;e<s;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}y(U,Mn);w({Container:{text:k(function(n=""){return this.put(new U).text(n)}),plain:k(function(n=""){return this.put(new U).plain(n)})}});v(U,"Text");class Gt extends q{constructor(t,e=t){super(P("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof U))return this;const e=t.index(this),s=x.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new g(s);return this.dy(e?i:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}y(Gt,Mn);w({Tspan:{tspan:k(function(n=""){const t=new Gt;return this._build||this.clear(),this.put(t).text(n)})},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}});v(Gt,"Tspan");class Re extends q{constructor(t,e=t){super(P("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new g(t).divide(2))}}y(Re,{x:fn,y:dn,cx:pn,cy:mn,width:gn,height:yn});w({Container:{circle:k(function(n=0){return this.put(new Re).size(n).move(0,0)})}});v(Re,"Circle");class ue extends j{constructor(t,e=t){super(P("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return Et("svg [clip-path*="+this.id()+"]")}}w({Container:{clip:k(function(){return this.defs().put(new ue)})},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const t=n instanceof ue?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});v(ue,"ClipPath");class zn extends F{constructor(t,e=t){super(P("foreignObject",t),e)}}w({Container:{foreignObject:k(function(n,t){return this.put(new zn).size(n,t)})}});v(zn,"ForeignObject");function Zi(n,t){return this.children().forEach(e=>{let s;try{s=e.node instanceof Ot().SVGSVGElement?new A(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const i=new f(e),r=i.translate(n,t).transform(i.inverse()),o=new H(s.x,s.y).transform(r);e.move(o.x,o.y)}),this}function Ki(n){return this.dmove(n,0)}function tr(n){return this.dmove(0,n)}function er(n,t=this.bbox()){return n==null?t.height:this.size(t.width,n,t)}function nr(n=0,t=0,e=this.bbox()){const s=n-e.x,i=t-e.y;return this.dmove(s,i)}function sr(n,t,e=this.bbox()){const s=St(this,n,t,e),i=s.width/e.width,r=s.height/e.height;return this.children().forEach(o=>{const a=new H(e).transform(new f(o).inverse());o.scale(i,r,a.x,a.y)}),this}function ir(n,t=this.bbox()){return n==null?t.width:this.size(n,t.height,t)}function rr(n,t=this.bbox()){return n==null?t.x:this.move(n,t.y,t)}function or(n,t=this.bbox()){return n==null?t.y:this.move(t.x,n,t)}const kn=Object.freeze(Object.defineProperty({__proto__:null,dmove:Zi,dx:Ki,dy:tr,height:er,move:nr,size:sr,width:ir,x:rr,y:or},Symbol.toStringTag,{value:"Module"}));class at extends j{constructor(t,e=t){super(P("g",t),e)}}y(at,kn);w({Container:{group:k(function(){return this.put(new at)})}});v(at,"G");class Yt extends j{constructor(t,e=t){super(P("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Ct)}}y(Yt,kn);w({Container:{link:k(function(n){return this.put(new Yt).to(n)})},Element:{unlink(){const n=this.linker();if(!n)return this;const t=n.parent();if(!t)return this.remove();const e=t.index(n);return t.add(this,e),n.remove(),this},linkTo(n){let t=this.linker();return t||(t=new Yt,this.wrap(t)),typeof n=="function"?n.call(t,t):t.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}});v(Yt,"A");class ce extends j{constructor(t,e=t){super(P("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return Et("svg [mask*="+this.id()+"]")}}w({Container:{mask:k(function(){return this.defs().put(new ce)})},Element:{masker(){return this.reference("mask")},maskWith(n){const t=n instanceof ce?n:this.parent().mask().add(n);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});v(ce,"Mask");class Pn extends F{constructor(t,e=t){super(P("stop",t),e)}update(t){return(typeof t=="number"||t instanceof g)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new g(t.offset)),this}}w({Gradient:{stop:function(n,t,e){return this.put(new Pn).update(n,t,e)}}});v(Pn,"Stop");function ar(n,t){if(!n)return"";if(!t)return n;let e=n+"{";for(const s in t)e+=ts(s)+":"+t[s]+";";return e+="}",e}class fe extends F{constructor(t,e=t){super(P("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,s={}){return this.rule("@font-face",{fontFamily:t,src:e,...s})}rule(t,e){return this.addText(ar(t,e))}}w("Dom",{style(n,t){return this.put(new fe).rule(n,t)},fontface(n,t,e){return this.put(new fe).font(n,t,e)}});v(fe,"Style");class Ne extends U{constructor(t,e=t){super(P("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let s=null;return e&&(s=e.plot(t)),t==null?s:this}track(){return this.reference("href")}}w({Container:{textPath:k(function(n,t){return n instanceof U||(n=this.text(n)),n.path(t)})},Text:{path:k(function(n,t=!0){const e=new Ne;n instanceof Mt||(n=this.defs().path(n)),e.attr("href","#"+n,Ct);let s;if(t)for(;s=this.node.firstChild;)e.node.appendChild(s);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:k(function(n){return n instanceof U||(n=new U().addTo(this.parent()).text(n)),n.path(this)}),targets(){return Et("svg textPath").filter(n=>(n.attr("href")||"").includes(this.id()))}}});Ne.prototype.MorphArray=pt;v(Ne,"TextPath");class Hn extends q{constructor(t,e=t){super(P("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,Ct)}}w({Container:{use:k(function(n,t){return this.put(new Hn).use(n,t)})}});v(Hn,"Use");const de=N;y([Ce,Oe,Ut,Ht,Lt],D("viewbox"));y([dt,wt,yt,Mt],D("marker"));y(U,D("Text"));y(Mt,D("Path"));y(Me,D("Defs"));y([U,Gt],D("Tspan"));y([Wt,Bt,Nt,L],D("radius"));y(Rt,D("EventTarget"));y(st,D("Dom"));y(F,D("Element"));y(q,D("Shape"));y([j,wn],D("Container"));y(Nt,D("Gradient"));y(L,D("Runner"));ft.extend(Zn());ki([g,E,A,f,Tt,it,pt,H]);Pi();const Ve=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY});class hr{constructor(t){t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(t){const e=!t.type.indexOf("mouse");if(e&&t.which!==1&&t.buttons!==0||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)return;t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Ve(t));const s=(e?"mousemove":"touchmove")+".drag",i=(e?"mouseup":"touchend")+".drag";Q(window,s,this.drag,this,{passive:!1}),Q(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}drag(t){const{box:e,lastClick:s}=this,i=this.el.point(Ve(t)),r=i.x-s.x,o=i.y-s.y;if(!r&&!o)return e;const a=e.x+r,h=e.y+o;this.box=new A(a,h,e.w,e.h),this.lastClick=i,!this.el.dispatch("dragmove",{event:t,handler:this,box:this.box}).defaultPrevented&&this.move(a,h)}move(t,e){this.el.type==="svg"?at.prototype.move.call(this.el,t,e):this.el.move(t,e)}endDrag(t){this.drag(t),this.el.fire("dragend",{event:t,handler:this,box:this.box}),V(window,"mousemove.drag"),V(window,"touchmove.drag"),V(window,"mouseup.drag"),V(window,"touchend.drag"),this.init(!0)}}y(F,{draggable(n=!0){return(this.remember("_draggable")||new hr(this)).init(n),this}});/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function pe(n,t,e,s=null){return function(i){i.preventDefault(),i.stopPropagation();var r=i.pageX||i.touches[0].pageX,o=i.pageY||i.touches[0].pageY;t.fire(n,{x:r,y:o,event:i,index:s,points:e})}}function me([n,t],{a:e,b:s,c:i,d:r,e:o,f:a}){return[n*e+t*i+o,n*s+t*r+a]}let An=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new at,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ot();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t){this.selection.clear().remove(),this.observer.disconnect();return}this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,s)=>{const i=this.order[e];this.createHandle.call(this,this.selection,t,e,s,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",pe(i,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,s,i){const r=i.at(s-1),o=i[(s+1)%i.length],a=e,h=[a[0]-r[0],a[1]-r[1]],l=[a[0]-o[0],a[1]-o[1]],u=Math.sqrt(h[0]*h[0]+h[1]*h[1]),c=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=[h[0]/u,h[1]/u],_=[l[0]/c,l[1]/c],m=[a[0]-d[0]*10,a[1]-d[1]*10],p=[a[0]-_[0]*10,a[1]-_[1]*10];t.plot([m,a,p])}updateResizeHandles(){this.handlePoints.forEach((t,e,s)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,s,i)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const s=this.getPoint("t");t.get(0).plot(s[0],s[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",pe("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(s=>me(s,e)),this.rotationPoint=me(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:s,y2:i,cx:r,cy:o}=this.el.bbox()){return[[t,s],[r,s],[e,s],[e,o],[e,i],[r,i],[t,i],[t,o]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}},lr=class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new at,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ot();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t){this.selection.clear().remove(),this.observer.disconnect();return}this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,s)=>{this.createHandle.call(this,this.selection,t,e,s),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",pe("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,s)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,s)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>me(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}};const Cn=n=>function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let s=this.remember("_"+n.name);return s||(t.prototype instanceof An?(s=new t(this),t=!0):s=new n(this),this.remember("_"+n.name,s)),s.active(t,e),this};y(F,{select:Cn(An)});y([yt,wt,dt],{pointSelect:Cn(lr)});/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function ge(n,t,e,s=null){return function(i){i.preventDefault(),i.stopPropagation();var r=i.pageX||i.touches[0].pageX,o=i.pageY||i.touches[0].pageY;t.fire(n,{x:r,y:o,event:i,index:s,points:e})}}function ye([n,t],{a:e,b:s,c:i,d:r,e:o,f:a}){return[n*e+t*i+o,n*s+t*r+a]}class On{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new at,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ot();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t){this.selection.clear().remove(),this.observer.disconnect();return}this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,s)=>{const i=this.order[e];this.createHandle.call(this,this.selection,t,e,s,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",ge(i,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,s,i){const r=i.at(s-1),o=i[(s+1)%i.length],a=e,h=[a[0]-r[0],a[1]-r[1]],l=[a[0]-o[0],a[1]-o[1]],u=Math.sqrt(h[0]*h[0]+h[1]*h[1]),c=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=[h[0]/u,h[1]/u],_=[l[0]/c,l[1]/c],m=[a[0]-d[0]*10,a[1]-d[1]*10],p=[a[0]-_[0]*10,a[1]-_[1]*10];t.plot([m,a,p])}updateResizeHandles(){this.handlePoints.forEach((t,e,s)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,s,i)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const s=this.getPoint("t");t.get(0).plot(s[0],s[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",ge("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(s=>ye(s,e)),this.rotationPoint=ye(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:s,y2:i,cx:r,cy:o}=this.el.bbox()){return[[t,s],[r,s],[e,s],[e,o],[e,i],[r,i],[t,i],[t,o]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}class ur{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new at,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ot();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t){this.selection.clear().remove(),this.observer.disconnect();return}this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,s)=>{this.createHandle.call(this,this.selection,t,e,s),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",ge("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,s)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,s)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>ye(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}}const Rn=n=>function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let s=this.remember("_"+n.name);return s||(t.prototype instanceof On?(s=new t(this),t=!0):s=new n(this),this.remember("_"+n.name,s)),s.active(t,e),this};y(F,{select:Rn(On)});y([yt,wt,dt],{pointSelect:Rn(ur)});const jt=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY}),Nn=n=>{let t=1/0,e=1/0,s=-1/0,i=-1/0;for(let r=0;r<n.length;r++){const o=n[r];t=Math.min(t,o[0]),e=Math.min(e,o[1]),s=Math.max(s,o[0]),i=Math.max(i,o[1])}return new A(t,e,s-t,i-e)};function cr(n,t,e){const i=[[n.x,n.y],[n.x+n.width,n.y],[n.x+n.width,n.y+n.height],[n.x,n.y+n.height]].map(([r,o])=>{const a=r-t[0],h=o-t[1],l=a*e,u=h*e;return[l+t[0],u+t[1]]});return Nn(i)}class Xe{constructor(t){this.el=t,t.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(t,e){this.preserveAspectRatio=e.preserveAspectRatio??!1,this.aroundCenter=e.aroundCenter??!1,this.grid=e.grid??0,this.degree=e.degree??0,this.el.off(".resize"),t&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(t){this.eventType=t.type;const{event:e,index:s,points:i}=t.detail,r=!e.type.indexOf("mouse");if(r&&(e.which||e.buttons)!==1||this.el.dispatch("beforeresize",{event:t,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(jt(e)),this.index=s,this.points=i.slice();const o=(r?"mousemove":"touchmove")+".resize",a=(r?"mouseup":"touchcancel.resize touchend")+".resize";t.type==="point"?Q(window,o,this.movePoint):t.type==="rot"?Q(window,o,this.rotate):Q(window,o,this.resize),Q(window,a,this.endResize)}resize(t){this.lastEvent=t;const e=this.snapToGrid(this.el.point(jt(t)));let s=e.x-this.startPoint.x,i=e.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,i*=2);const r=this.box.x+s,o=this.box.y+i,a=this.box.x2+s,h=this.box.y2+i;let l=new A(this.box);if(this.eventType.includes("l")&&(l.x=Math.min(r,this.box.x2),l.x2=Math.max(r,this.box.x2)),this.eventType.includes("r")&&(l.x=Math.min(a,this.box.x),l.x2=Math.max(a,this.box.x)),this.eventType.includes("t")&&(l.y=Math.min(o,this.box.y2),l.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(l.y=Math.min(h,this.box.y),l.y2=Math.max(h,this.box.y)),l.width=l.x2-l.x,l.height=l.y2-l.y,this.preserveAspectRatio){const u=l.width/this.box.width,c=l.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],_=(d.indexOf(this.eventType)+4)%d.length,m=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[_];let p=this.eventType.includes("t")||this.eventType.includes("b")?c:u;p=this.eventType.length===2?Math.max(u,c):p,l=cr(this.box,m,p)}this.el.dispatch("resize",{box:new A(l),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.size(l.width,l.height).move(l.x,l.y)}movePoint(t){this.lastEvent=t;const{x:e,y:s}=this.snapToGrid(this.el.point(jt(t))),i=this.el.array().slice();i[this.index]=[e,s],!this.el.dispatch("resize",{box:Nn(i),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented&&this.el.plot(i)}rotate(t){this.lastEvent=t;const e=this.startPoint,s=this.el.point(jt(t)),{cx:i,cy:r}=this.box,o=e.x-i,a=e.y-r,h=s.x-i,l=s.y-r,u=Math.sqrt(o*o+a*a)*Math.sqrt(h*h+l*l);if(u===0)return;let c=Math.acos((o*h+a*l)/u)/Math.PI*180;if(!c)return;s.x<e.x&&(c=-c);const d=new f(this.el),{x:_,y:m}=new H(i,r).transformO(d),{rotate:p}=d.decompose(),T=this.snapToAngle(p+c)-p;this.el.dispatch("resize",{box:this.box,angle:T,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.transform(d.rotateO(T,_,m))}endResize(t){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(t),this.lastEvent=null,this.eventType="",V(window,"mousemove.resize touchmove.resize"),V(window,"mouseup.resize touchend.resize")}snapToGrid(t){return this.grid&&(t.x=Math.round(t.x/this.grid)*this.grid,t.y=Math.round(t.y/this.grid)*this.grid),t}snapToAngle(t){return this.degree&&(t=Math.round(t/this.degree)*this.degree),t}}y(F,{resize:function(n=!0,t={}){typeof n=="object"&&(t=n,n=!0);let e=this.remember("_ResizeHandler");return e||(n.prototype instanceof Xe?(e=new n(this),n=!0):e=new Xe(this),this.remember("_resizeHandler",e)),e.active(n,t),this}});const W=class W{constructor(t){_t(this,"draw",null);if(W.instance)return W.instance;t?(this.initSVG(t),W.instance=this):console.error("SVGCanvas 需要一个有效的 DOM 元素来初始化画布。")}clearCanvas(){this.draw&&this.draw.clear()}initSVG(t){this.draw=de().addTo(t).size(800,600)}static getInstance(t){return!W.instance&&t&&(W.instance=new W(t)),W.instance}};_t(W,"instance",null);let rt=W;const mt={SELECT_ELEMENT:"CANVAS:SELECT_ELEMENT",ELEMENT_CREATED:"CANVAS:ELEMENT_CREATED"},gt=new jn;class fr{constructor(){_t(this,"instance",null)}draw(t){let e=!1;const i=rt.getInstance().draw.text("Double-click to edit").move(100,100).fill("#000").font({size:16,weight:"normal",style:"normal"});i.draggable(),gt.emit(mt.ELEMENT_CREATED,{id:i.id(),label:"文字",el:i});function r(){i.select(!1),i.select({createHandle:(a,h,l,u,c)=>a.circle(0),updateHandle:(a,h,l,u,c)=>a.center(h[0],h[1])})}const o=a=>{e||(e=!0,i.select({createHandle:(h,l,u,c,d)=>h.circle(0),updateHandle:(h,l,u,c,d)=>h.center(l[0],l[1])}),i.resize()),gt.emit(mt.SELECT_ELEMENT,{type:"text-panel",target:{id:i.id(),getFill(){return i.fill()},setFill(h){i.fill(h)},getText(){return i.text()},setText(h){i.text(h),r()},getSize(){return i.font("size")},setSize(h){i.font({size:h||0})},getWeight(){return i.font("weight")},setWeight(h){i.font({weight:h})},getFontStyle(){return i.font("style")},setFontStyle(h){i.font({style:h})},deselectAll(){e&&(e=!1,i.select(!1),i.resize(!1))}}})};i.on("dragstart",o),i.on("click",o)}}class dr{constructor(){_t(this,"instance",null)}draw(){const t=rt.getInstance(),e=3,s=4,i=100,r=50,o=t.draw.group();for(let h=0;h<e;h++)for(let l=0;l<s;l++){const u=l*i,c=h*r;o.rect(i,r).move(u,c).fill("#f0f0f0").stroke({color:"#333",width:1}),o.text(`R${h+1}C${l+1}`).move(u+i/2,c+r/2).font({size:14,anchor:"middle",leading:"1.5em"}).fill("#333")}o.draggable(),gt.emit(mt.ELEMENT_CREATED,{id:o.id(),label:"表格",el:o});const a=()=>{gt.emit(mt.SELECT_ELEMENT,{type:"table-panel",target:{}})};o.on("dragstart",a),o.on("click",a),this.instance=o}}const pr={class:"m-svg-toolbar"},mr={__name:"index",setup(n){function t(){rt.getInstance().clearCanvas()}function e(){const o=rt.getInstance().draw.svg();console.log(o)}function s(){new fr().draw()}function i(){new dr().draw()}return(r,o)=>($(),X("div",pr,[I("button",{onClick:t},"清空"),I("button",{onClick:e},"保存"),I("button",{onClick:s},"加入文本"),I("button",{onClick:i},"加入表格")]))}},gr=ot(mr,[["__scopeId","data-v-39623fe1"]]),C=_e({width:800,height:600});function yr(n,t){C.width=n,C.height=t}const wr={class:"m-svg-canvas-wrapper"},_r={__name:"index",setup(n){const t=nt(null),e=nt(null),s=nt(null),i=nt(1);let r=0,o=0;function a(){const m=C.width*1.5,p=C.height*1.5;r=(m-C.width)/2,o=(p-C.height)/2}function h(){const m=s.value;if(m){const p=m.clientWidth,T=m.clientHeight,b=C.width*1.5,O=C.height*1.5;m.scrollLeft=(b-p)/2,m.scrollTop=(O-T)/2}}let l=null,u=null;function c(){l.clear();const p=Math.max(10,10*i.value),T=C.width*2;for(let b=-r;b<T-r;b+=p){const O=(b/i.value).toFixed(0);l.line(b+r,0,b+r,10).stroke({color:"#000",width:1}),b%(50*i.value)===0&&l.text(O).move(b+r+2,8).font({size:8})}}function d(){u.clear();const p=Math.max(10,10*i.value),T=C.height*2;for(let b=-o;b<T-o;b+=p){const O=(b/i.value).toFixed(0);u.line(0,b+o,10,b+o).stroke({color:"#000",width:1}),b%(50*i.value)===0&&u.text(O).move(8,b+o+2).font({size:8}).rotate(90)}}function _(){const m=s.value.scrollLeft,p=s.value.scrollTop;l.attr({style:`transform: translateX(${-m}px);`}),u.attr({style:`transform: translateY(${-p}px);`})}return Be(()=>{l=de().addTo(t.value).size(C.width*2,20),u=de().addTo(e.value).size(20,C.height*2),a(),c(),d(),h(),_()}),G(()=>[C.width,C.height],()=>{$n(()=>{a(),c(),d(),h(),l.size(C.width*2,20),u.size(20,C.height*2),_()})}),G(i,()=>{c(),d()}),(m,p)=>($(),X("div",wr,[p[0]||(p[0]=I("div",{class:"ruler_corner"},null,-1)),I("div",{ref_key:"rulerXRef",ref:t,class:"ruler_x"},null,512),I("div",{ref_key:"rulerYRef",ref:e,class:"ruler_y"},null,512),I("div",{ref_key:"workareaRef",ref:s,class:"workarea",onScroll:_},[Ln(m.$slots,"default",{},void 0,!0)],544)]))}},br=ot(_r,[["__scopeId","data-v-0503e39d"]]),Xt=class Xt{static draw(){const t=rt.getInstance(),e=t.draw.rect("100%","100%");e.attr({fill:"#fff",stroke:"transparent"});const s=()=>{gt.emit(mt.SELECT_ELEMENT,{type:"background-panel",target:{id:e.id(),getFill(){return e.fill()},setFill(i){e.fill(i)},getWidth(){return t.draw.width()},setWidth(i){t.draw.width(i)},getHeight(){return t.draw.height()},setHeight(i){t.draw.height(i)}}})};s(),e.on("click",s),Xt.instance=e}};_t(Xt,"instance",null);let we=Xt;const xr={__name:"index",setup(n){const t=nt(null),e=qn(()=>({width:`${C.width*1.5}px`,height:`${C.height*1.5}px`}));return Be(()=>{t.value&&(new rt(t.value),we.draw())}),(s,i)=>($(),X("div",{ref_key:"canvasRef",ref:t,class:"m-svg-canvas",style:Yn(e.value)},null,4))}},vr=ot(xr,[["__scopeId","data-v-19ca91d6"]]),Tr={class:"background-panel"},Sr={__name:"index",props:{target:{type:Object,required:!0}},setup(n){const t=n,e=[{label:"800*600"},{label:"1920*1080"}],s=_e({fill:"",size:""}),{target:i}=t;s.fill=i.getFill();const r=i.getWidth(),o=i.getHeight();return s.size=`${r}*${o}`,G(()=>s.fill,a=>{i.setFill(a)}),G(()=>s.size,a=>{const[h,l]=a.split("*");i.setWidth(h),i.setHeight(l),yr(h,l)}),(a,h)=>($(),X("div",Tr,[h[2]||(h[2]=I("h2",{class:"m-svg-attr-title"},"画板设计",-1)),M(z(Ze),{model:s,"label-position":"left","label-width":"auto"},{default:R(()=>[M(z(tt),{label:"背景颜色"},{default:R(()=>[M(z(Ue),{modelValue:s.fill,"onUpdate:modelValue":h[0]||(h[0]=l=>s.fill=l)},null,8,["modelValue"])]),_:1}),M(z(tt),{label:"常见尺寸"},{default:R(()=>[M(z(We),{modelValue:s.size,"onUpdate:modelValue":h[1]||(h[1]=l=>s.size=l)},{default:R(()=>[($(),X(Ge,null,Qe(e,(l,u)=>M(z(Je),{key:u,value:l.label,label:l.label},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]))}},Er={class:"text-panel"},Mr={__name:"index",props:{target:{type:Object,required:!0}},setup(n){const t=n,e=["normal","bold"],s=["normal","italic"],i=[{value:"默认",label:""},{value:"楷体",label:"楷体"}],r=_e({content:"",fill:"",fontFamily:"",fontSize:"",fontWeight:"",fontStyle:""}),{target:o}=t;return r.content=o.getText(),r.fontSize=o.getSize(),r.fill=o.getFill(),r.fontWeight=o.getWeight(),r.fontStyle=o.getFontStyle(),G(()=>r.content,a=>{o.setText(a)}),G(()=>r.fontSize,a=>{o.setSize(a)}),G(()=>r.fill,a=>{o.setFill(a)}),G(()=>r.fontWeight,a=>{o.setWeight(a)}),G(()=>r.fontStyle,a=>{o.setFontStyle(a)}),Vn(()=>{o.deselectAll()}),(a,h)=>($(),X("div",Er,[h[6]||(h[6]=I("h2",{class:"m-svg-attr-title"},"文字",-1)),M(z(Ze),{model:r,"label-position":"left","label-width":"auto"},{default:R(()=>[M(z(tt),{label:"内容"},{default:R(()=>[M(z(Ie),{modelValue:r.content,"onUpdate:modelValue":h[0]||(h[0]=l=>r.content=l),placeholder:"请输入内容"},null,8,["modelValue"])]),_:1}),M(z(tt),{label:"字体粗细"},{default:R(()=>[M(z(De),{modelValue:r.fontWeight,"onUpdate:modelValue":h[1]||(h[1]=l=>r.fontWeight=l),options:e},null,8,["modelValue"])]),_:1}),M(z(tt),{label:"字体字形"},{default:R(()=>[M(z(De),{modelValue:r.fontStyle,"onUpdate:modelValue":h[2]||(h[2]=l=>r.fontStyle=l),options:s},null,8,["modelValue"])]),_:1}),M(z(tt),{label:"字体大小"},{default:R(()=>[M(z(Ie),{modelValue:r.fontSize,"onUpdate:modelValue":h[3]||(h[3]=l=>r.fontSize=l),placeholder:"请输入字体大小"},null,8,["modelValue"])]),_:1}),M(z(tt),{label:"文本字体"},{default:R(()=>[M(z(We),{modelValue:r.fontFamily,"onUpdate:modelValue":h[4]||(h[4]=l=>r.fontFamily=l),placeholder:"请选择字体"},{default:R(()=>[($(),X(Ge,null,Qe(i,(l,u)=>M(z(Je),{key:u,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),M(z(tt),{label:"文本颜色"},{default:R(()=>[M(z(Ue),{modelValue:r.fill,"onUpdate:modelValue":h[5]||(h[5]=l=>r.fill=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]))}},zr={},kr={class:"table-panel"};function Pr(n,t){return $(),X("div",kr,t[0]||(t[0]=[I("h2",{class:"m-svg-attr-title"},"表格",-1)]))}const Hr=ot(zr,[["render",Pr]]),Ar={"background-panel":Sr,"text-panel":Mr,"table-panel":Hr},Cr={class:"m-svg-attr"},Or={__name:"index",setup(n){const t=nt(""),e=nt(null);function s({type:i,target:r}){t.value=i,e.value=r}return gt.on(mt.SELECT_ELEMENT,s),(i,r)=>($(),X("div",Cr,[e.value!==null?($(),Xn(Bn(z(Ar)[t.value]),{target:e.value,key:e.value.id},null,8,["target"])):Un("",!0)]))}},Rr=ot(Or,[["__scopeId","data-v-354fa2a5"]]),Vt=nt([]),Nr=(n,t,e)=>{const s={id:n,label:t,elements:e,children:[]};Vt.value.push(s)},Ir=n=>{const t=Vt.value.findIndex(e=>e.id===n.id);[void 0].includes(t)||(n.elements.remove(),Vt.value.splice(t,1))};gt.on(mt.ELEMENT_CREATED,({id:n,label:t,el:e})=>Nr(n,t,e));const Dr={class:"layer-manager"},Fr={class:"layer-manager-tree-node"},jr={__name:"index",setup(n){const t={children:"children",label:"label"};return(e,s)=>($(),X("div",Dr,[s[1]||(s[1]=I("h2",{class:"layer-manager-title"},"图层管理",-1)),M(z(Jn),{data:z(Vt),props:t},{default:R(({node:i,data:r})=>[I("span",Fr,[I("span",null,Wn(i.label),1),M(z(Gn),{type:"danger",onClick:o=>z(Ir)(r)},{default:R(()=>s[0]||(s[0]=[Qn("删除")])),_:2},1032,["onClick"])])]),_:1},8,["data"])]))}},Lr=ot(jr,[["__scopeId","data-v-e5852823"]]),$r={class:"m-svg-editor"},qr={class:"m-svg-side-panel"},Yr={__name:"index",setup(n){return(t,e)=>($(),X("div",$r,[M(gr),M(br,null,{default:R(()=>[M(vr)]),_:1}),I("div",qr,[M(Rr),M(Lr)])]))}},Vr=ot(Yr,[["__scopeId","data-v-3e6a8d54"]]),Xr={class:"svg-editor"},Br={__name:"index",setup(n){return(t,e)=>($(),X("div",Xr,[M(z(Vr))]))}},to=ot(Br,[["__scopeId","data-v-5538c036"]]);export{to as default};
